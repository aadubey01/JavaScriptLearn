<!DOCTYPE html>
<html>
    <head>
        <title> Rock Paper Scissor</title>
    </head>
    <body>
        <p> Rock Paper Scissors</p>
        <button onclick="
        
         playGame('Rock');
        
        ">Rock</button>
        <button onclick="
          playGame('Paper') ;                                                         
        ">Paper</button>
        <button onclick="                            
           playGame('Scissors');
        ">Scissors</button>


        <button onclick="
        score.wins=0;
        score.losses = 0;
        score.ties= 0;
        localStorage.removeItem('score')
        ">Reset Score</button>

        <script>
            

           let score =JSON.parse(localStorage.getItem('score')); 
            //to convert the store back into object each time it resets as it is JSON string
            
            if (score===null){
                score = {
                    wins:0,
                    losses:0,
                    ties:0
                };
            }

            function playGame( playerMove){
                const computer=pickMove();
       
            let result= ''; 
            if(playerMove === 'Rock'){
            if(computer === 'Rock'){
                result ='TIE';
            }
            else if(computer === 'Paper') {
                result = 'YOU LOSE';    
            }
            else if(computer === 'Scissors'){
                result = 'YOU WIN';
            }
        }
        else if(playerMove === 'Paper'){
            if(computer==='Paper'){
                result = 'TIE';
            }
            else if(computer === 'Scissors'){
                result ='YOU LOSE';
            }
            else if(computer === 'Rock'){
                result='YOU WIN';
            }
        }
        else if(playerMove === 'Scissors'){
            if(computer==='Scissors'){
                result = 'TIE';
            }
            else if(computer === 'Rock'){
                result ='YOU LOSE';
            }
            else if(computer === 'Paper'){
                result='YOU WIN';
            }
        }
            
        if(result==='YOU WIN'){
            score.wins+= 1;
        }
        else if( result === 'YOU LOSE'){
            score.losses+= 1;
        }
        else if(result === 'TIE'){
            score.ties+= 1;
        }

        localStorage.setItem('score',JSON.stringify(score));

                alert(`You picked ${playerMove},Computer picked ${computer}. ${result}
Wins: ${score.wins},Losses:${score.losses},Ties:${score.ties}`);  
            }
function pickMove(){
        const random=Math.random();
                
         if(random>=0 && random<1/3){
            computer='Rock'; 
         }
         else if(random>=1/3 && random<2/3){
            computer='Paper';
         }
        else if(random>=2/3 && random<1){
           computer ='Scissors';
        }
         return computer;
         
            }
        </script>
    </body>
</html>
